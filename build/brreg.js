var BrReg=function(){"use strict";var a,b,c=function(){a=document.createElement("div"),a.innerHTML=g.box,document.body.appendChild(a),document.getElementById("closeBtn").onclick=function(){e()};var b=document.getElementById("field");b.onkeyup=i(function(){var a=document.getElementById("field").value;console.log(a),h.get(d,{query:a},function(a){var b=document.getElementById("results");BrReg.container=a,console.log(a),a&&a.entries&&a.entries.length>0&&a.entries.forEach(function(a){console.log(a);var c=document.createElement("li");c.innerHTML=a.navn+"<span style='color: #444'> ("+a.orgnr+")</span><br /><span>"+(""!=a.forretningsadr?a.forretningsadr+"<br />":"")+a.forradrpostnr+" "+a.forradrpoststed+"</span>",b.appendChild(c)})})},500)},d="https://hotell.difi.no/api/json/brreg/enhetsregisteret",e=function(){a.parentNode.removeChild(a)},f=function(){var a={};return a.box="position:absolute;top:30%;left:30%;box-shadow:0 5px 15px rgba(0, 0, 0, 0.5);border:1px solid rgba(0, 0, 0, 0.2);border-radius:6px;padding:30px;font-family:Helvetica Neue, Helvetica, Arial, sans-serif;color:#333333;font-size:14px;background-color:#ffffff;",a.input="padding: 6px 12px;border: 1px solid #cccccc;border-radius: 4px;width:100%;box-sizing:border-box;",a.button="padding:6px 12px;border:1px solid transparent;border-radius:4px;border-color:#adadad;background-color:#ffffff;cursor:pointer;font-size:14px;color:#333333;background-image:none;height:100%;",a.button_b="background-color:#428bca!important;color:#ffffff!important;"+a.button,a}(),g=function(){var a={};return a.box='<div id="innerBox" style="'+f.box+'"><strong>Searchfield:</strong><br /><input type="text" id="field" style="'+f.input+'"></select><br /><br /><strong>Values:</strong><br /><ul id="results"></ul><br /><button id="searchButton" style="'+f.button_b+'">Search</button>&nbsp;<button id="closeBtn" style="'+f.button+'">Close</button></div>',a}(),h={};h.x=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;for(var a,b=["MSXML2.XmlHttp.6.0","MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"],c=0;c<b.length;c++)try{a=new ActiveXObject(b[c]);break}catch(a){}return a};var i=function(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}};return h.send=function(a,b,c,d,e){void 0===e&&(e=!0);var f=h.x();f.open(c,a,e),f.onreadystatechange=function(){4==f.readyState&&b(JSON.parse(f.responseText))},"POST"==c&&f.setRequestHeader("Content-type","application/x-www-form-urlencoded"),f.send(d)},h.get=function(a,b,c,d){var e=[];for(var f in b)e.push(encodeURIComponent(f)+"="+encodeURIComponent(b[f]));h.send(a+(e.length?"?"+e.join("&"):""),c,"GET",null,d)},h.post=function(a,b,c,d){var e=[];for(var f in b)e.push(encodeURIComponent(f)+"="+encodeURIComponent(b[f]));h.send(a,c,"POST",e.join("&"),d)},{show:c,container:b}}();BrReg.show();